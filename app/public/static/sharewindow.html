<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self' 'unsafe-inline' 'unsafe-eval' file:; 
                   frame-src 'self' file:; 
                   frame-ancestors 'self' file:; 
                   img-src 'self' file: data: blob:;">
    <!-- rest of your head content -->
</head>
<body>
    <div id="remoteviewerdebug"></div>
    <div id="remoteviewerwrapper" style="width: 800px; height: 600px;">
        <video style="max-width: 100%; max-height: 100%;" width="100%" height="100%" autoplay loop muted playsinline>
            <source src="movie_300.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script src="js/remoteviewerhelper.js"></script>
    <script>

        // URL-Params
        let params = new URLSearchParams(document.location.search);
        console.log("Full URL:", document.location.href);
        console.log("Search string:", document.location.search);
        console.log("All params:", Object.fromEntries(params));
        
        var roomid = params.get("roomid");  // changed from "room" to "roomid"
        var username = params.get("username");  // changed from "user" to "username"
        var userid = params.get("userid");      // changed from "userid" to "userid" (this one was correct)
        var color = params.get("color");
        var hostname = params.get("hostname");  

        openRemoteViewer(roomid, username, userid, color, hostname);

        document.getElementById('remoteviewerdebug').innerHTML = document.location.href+"<br>roomid: " + roomid + "<br>username: " + username + "<br>userid: " + userid + "<br>color: " + color + "<br>hostname: " + hostname; 
    </script>
</body>
</html>